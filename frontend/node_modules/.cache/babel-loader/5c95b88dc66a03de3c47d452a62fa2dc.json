{"ast":null,"code":"var _jsxFileName = \"/goinfre/abahdir/ft_transcendence/frontend/src/views/pages/profile/profile_infos/profile_infos.tsx\",\n    _s = $RefreshSig$();\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { CircleAvatar } from \"../../../components/circle_avatar/circle_avatar\";\nimport { faCameraRotate, faCheck, faClose, faPen, faPercent, faTableTennisPaddleBall, faTrophy } from \"@fortawesome/free-solid-svg-icons\";\nimport { buttons, userType } from \"../profile\";\nimport { Numeral } from \"../../../components/numeral/numeral\";\nimport { patch_avatar_upload, patch_edit_fullname } from \"../../../../controller/user/edit\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { get_me } from \"../../../../controller/user/user\";\nimport { useNotif } from \"../../../components/notif/notif\";\nimport { TwoFAButton, TwoFACard } from \"../../../components/twofa_card/twofa\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst StatCard = _ref => {\n  let {\n    icon,\n    title,\n    stat\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"stat\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"stat_title\",\n      children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: icon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 13\n      }, this), title]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"stat_value\",\n      children: /*#__PURE__*/_jsxDEV(Numeral, {\n        value: stat\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 38\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 12\n  }, this);\n};\n\n_c = StatCard;\nconst defaultValues = {\n  id: \"\",\n  username: \"\",\n  email: \"\",\n  fullName: \"\",\n  profileUrl: \"\",\n  imageUrl: \"\",\n  isTfaEnabled: false,\n  score: 0,\n  rank: 0,\n  status: \"\",\n  wins: 0,\n  loses: 0\n};\nexport const ProfileInfos = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const pushNotif = useNotif();\n  const [editMode, setEditMode] = useState(false);\n  const [userInfos, setUserInfos] = useState(defaultValues);\n  const [fullName, setFullName] = useState();\n  const [userImage, setUserImage] = useState();\n  const [enable2fa, setEnable2fa] = useState(false);\n\n  const updateAvatar = () => {\n    var f = document.createElement('input');\n    f.style.display = 'none';\n    f.type = 'file';\n    f.name = 'file';\n    f.accept = '.jpg,.jpeg,.png,.gif';\n    f.addEventListener(\"change\", async e => {\n      const [file] = e.target.files;\n      setUserImage(file);\n    });\n    f.click();\n  };\n\n  const editProfile = async () => {\n    try {\n      if (!/^([a-zA-Z]+-?[a-zA-Z]+)( ([a-zA-Z]+(\\-[a-zA-Z]+)*\\.?))+$/.test(fullName) || fullName.length > 40) throw {\n        message: \"Full Name can only contain a-z SP A-Z - . and max length 40\"\n      };\n      await patch_edit_fullname(fullName);\n      await patch_avatar_upload(userImage);\n      pushNotif({\n        type: \"success\",\n        icon: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faCheck\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 23\n        }, this),\n        title: \"Success\",\n        description: \"Profile updated successfully!\"\n      });\n    } catch (e) {\n      setEditMode(oldMode => !oldMode);\n      pushNotif({\n        type: \"error\",\n        icon: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faClose\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 23\n        }, this),\n        title: \"ERROR\",\n        description: e.message\n      });\n    }\n  };\n\n  const switchTwoFA = () => {\n    try {} catch (err) {\n      pushNotif({\n        type: \"error\",\n        icon: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faClose\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 23\n        }, this),\n        title: \"ERROR\",\n        description: err.message\n      });\n    }\n  };\n\n  useEffect(() => {\n    (async function () {\n      try {\n        const me = await get_me();\n        setUserInfos(me);\n        setFullName(me.fullName);\n      } catch (err) {\n        pushNotif({\n          type: \"error\",\n          icon: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faClose\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 27\n          }, this),\n          title: \"ERROR\",\n          description: err.message\n        });\n      }\n    })();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    id: \"profileInfos\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: editMode ? \"save\" : \"edit\",\n      title: \"Edit Profile\",\n      onClick: () => {\n        setEditMode(oldMode => !oldMode);\n        if (editMode) editProfile();\n      },\n      children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: editMode ? faCheck : faPen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profileData\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"avatar\",\n        children: [/*#__PURE__*/_jsxDEV(CircleAvatar, {\n          avatarURL: userImage && URL.createObjectURL(userImage) || (userInfos === null || userInfos === void 0 ? void 0 : userInfos.imageUrl),\n          dimensions: 120,\n          showStatus: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"score\",\n          children: /*#__PURE__*/_jsxDEV(Numeral, {\n            value: userInfos === null || userInfos === void 0 ? void 0 : userInfos.score\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 45\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, this), editMode && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"editAvatar\",\n          title: \"Change Your Avatar\",\n          onClick: updateAvatar,\n          children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faCameraRotate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 34\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profileMoreData\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          disabled: !editMode,\n          className: \"fullName\",\n          placeholder: \"Full Name\",\n          onChange: e => setFullName(e.target.value),\n          value: fullName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"userName\",\n          children: [\"@\", userInfos === null || userInfos === void 0 ? void 0 : userInfos.username]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stats\",\n          children: [/*#__PURE__*/_jsxDEV(StatCard, {\n            icon: faTableTennisPaddleBall,\n            title: \"Games\",\n            stat: Number((userInfos === null || userInfos === void 0 ? void 0 : userInfos.wins) + (userInfos === null || userInfos === void 0 ? void 0 : userInfos.loses))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n            icon: faTrophy,\n            title: \"Wins\",\n            stat: Number(userInfos === null || userInfos === void 0 ? void 0 : userInfos.wins)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n            icon: faPercent,\n            title: \"Ratio\",\n            stat: Number(Number((userInfos === null || userInfos === void 0 ? void 0 : userInfos.wins) / ((userInfos === null || userInfos === void 0 ? void 0 : userInfos.wins) + (userInfos === null || userInfos === void 0 ? void 0 : userInfos.loses)) * 100).toFixed(1)) || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }, this), !editMode && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"actionButtons\",\n      children: buttons.map(button => {\n        if (button.type === userType.none) {\n          return /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `btn${button.text.replace(' ', '')}`,\n            onClick: () => button.onClick(userInfos === null || userInfos === void 0 ? void 0 : userInfos.id),\n            children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: button.icon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 33\n            }, this), button.text]\n          }, `${button.text.replace(' ', '')}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 29\n          }, this);\n        }\n\n        return null;\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 27\n    }, this), editMode && /*#__PURE__*/_jsxDEV(TwoFAButton, {\n      onClick: () => setEnable2fa(true),\n      enabled: userInfos === null || userInfos === void 0 ? void 0 : userInfos.isTfaEnabled\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 26\n    }, this), enable2fa && /*#__PURE__*/_jsxDEV(TwoFACard, {\n      onSubmit: () => {\n        /*  */\n      },\n      onClose: () => setEnable2fa(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 27\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ProfileInfos, \"vvjTuMiyulPXOpYKiRSA1YTM0o4=\", false, function () {\n  return [useNavigate, useNotif];\n});\n\n_c2 = ProfileInfos;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"StatCard\");\n$RefreshReg$(_c2, \"ProfileInfos\");","map":{"version":3,"names":["FontAwesomeIcon","CircleAvatar","faCameraRotate","faCheck","faClose","faPen","faPercent","faTableTennisPaddleBall","faTrophy","buttons","userType","Numeral","patch_avatar_upload","patch_edit_fullname","useNavigate","useEffect","useState","get_me","useNotif","TwoFAButton","TwoFACard","StatCard","icon","title","stat","defaultValues","id","username","email","fullName","profileUrl","imageUrl","isTfaEnabled","score","rank","status","wins","loses","ProfileInfos","navigate","pushNotif","editMode","setEditMode","userInfos","setUserInfos","setFullName","userImage","setUserImage","enable2fa","setEnable2fa","updateAvatar","f","document","createElement","style","display","type","name","accept","addEventListener","e","file","target","files","click","editProfile","test","length","message","description","oldMode","switchTwoFA","err","me","URL","createObjectURL","value","Number","toFixed","map","button","none","text","replace","onClick"],"sources":["/goinfre/abahdir/ft_transcendence/frontend/src/views/pages/profile/profile_infos/profile_infos.tsx"],"sourcesContent":["import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/fontawesome-svg-core\";\nimport { CircleAvatar } from \"../../../components/circle_avatar/circle_avatar\";\nimport { faCameraRotate, faCheck, faClose, faPen, faPercent, faTableTennisPaddleBall, faTrophy } from \"@fortawesome/free-solid-svg-icons\";\nimport { buttons, userType } from \"../profile\";\nimport { Numeral } from \"../../../components/numeral/numeral\";\nimport { patch_avatar_upload, patch_edit_fullname } from \"../../../../controller/user/edit\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { get_me, me_info } from \"../../../../controller/user/user\";\nimport { useNotif } from \"../../../components/notif/notif\";\nimport { stringify } from \"querystring\";\nimport { TwoFAButton, TwoFACard } from \"../../../components/twofa_card/twofa\";\nimport { userInfo } from \"os\";\n\n\nconst StatCard = ({icon, title, stat}: {icon: IconDefinition, title: string, stat: number}) => {\n    return <span className=\"stat\">\n        <span className=\"stat_title\">\n            <FontAwesomeIcon icon={icon}/>\n            {title}\n        </span>\n        <span className=\"stat_value\"><Numeral value={stat}/></span>\n    </span>;\n}\n\nconst defaultValues = {\n    id: \"\",\n    username: \"\",\n    email: \"\",\n    fullName: \"\",\n    profileUrl: \"\",\n    imageUrl: \"\",\n    isTfaEnabled: false,\n    score: 0,\n    rank: 0,\n    status: \"\",\n    wins: 0,\n    loses: 0\n};\n\nexport const ProfileInfos:React.FC = () => {\n    const navigate = useNavigate();\n    const pushNotif = useNotif();\n    const [editMode, setEditMode] = useState<boolean>(false);\n    const [userInfos, setUserInfos] = useState<me_info>(defaultValues);\n    const [fullName, setFullName] = useState<string>();\n    const [userImage, setUserImage] = useState<any>();\n    const [enable2fa, setEnable2fa] = useState<boolean>(false);\n\n    const updateAvatar = () => {\n        var f = document.createElement('input');\n        f.style.display='none';\n        f.type='file';\n        f.name='file';\n        f.accept='.jpg,.jpeg,.png,.gif';\n        f.addEventListener(\"change\", async (e : any) => {\n            const [file] = e.target.files;\n            setUserImage(file);\n        });\n        f.click();\n    }\n\n\n    const editProfile = async ()  => {\n        try {\n            if (!/^([a-zA-Z]+-?[a-zA-Z]+)( ([a-zA-Z]+(\\-[a-zA-Z]+)*\\.?))+$/.test(fullName!) || fullName!.length > 40)\n                throw({message: \"Full Name can only contain a-z SP A-Z - . and max length 40\"});\n            await patch_edit_fullname(fullName!);\n            await patch_avatar_upload(userImage);\n            pushNotif({\n                type: \"success\",\n                icon: <FontAwesomeIcon icon={faCheck}/>,\n                title: \"Success\",\n                description: \"Profile updated successfully!\"\n            });\n        }\n        catch(e: any) {\n            setEditMode(oldMode => !oldMode);\n            pushNotif({\n                type: \"error\",\n                icon: <FontAwesomeIcon icon={faClose}/>,\n                title: \"ERROR\",\n                description: e.message\n            });\n        }\n    }\n\n    const switchTwoFA = () => {\n        try {\n        } catch (err: any) {\n            pushNotif({\n                type: \"error\",\n                icon: <FontAwesomeIcon icon={faClose}/>,\n                title: \"ERROR\",\n                description: err.message\n            });\n        }\n    }\n\n    useEffect(() => {\n        (async function() {\n            try {\n                const me: me_info = await get_me();\n                setUserInfos(me);\n                setFullName(me.fullName);\n            } catch (err: any) {\n                pushNotif({\n                    type: \"error\",\n                    icon: <FontAwesomeIcon icon={faClose}/>,\n                    title: \"ERROR\",\n                    description: err.message\n                });\n            }\n        })();\n    },[]);\n\n    return (\n        <section id=\"profileInfos\">\n            <button className={editMode ? \"save\" : \"edit\"} title=\"Edit Profile\" onClick={() => {\n                setEditMode(oldMode => !oldMode);\n                if (editMode)\n                    editProfile();\n            }}>\n                <FontAwesomeIcon icon={editMode ? faCheck : faPen}/>\n            </button>\n            <div className=\"profileData\">\n                <div className=\"avatar\">\n                    <CircleAvatar avatarURL={userImage && URL.createObjectURL(userImage) || userInfos?.imageUrl} dimensions={120} showStatus={false}/>\n                    <span className=\"score\"><Numeral value={userInfos?.score}/></span>\n                    {editMode && <span className=\"editAvatar\" title=\"Change Your Avatar\" onClick={updateAvatar}>\n                        <FontAwesomeIcon icon={faCameraRotate}/>\n                    </span>}\n                </div>\n                <div className=\"profileMoreData\">\n                    <input type=\"text\" disabled={!editMode} className=\"fullName\" placeholder=\"Full Name\" onChange={(e) => setFullName(e.target.value)} value={fullName}/>\n                    <span className=\"userName\">@{userInfos?.username}</span>\n                    <div className=\"stats\">\n                        <StatCard icon={faTableTennisPaddleBall} title=\"Games\" stat={Number(userInfos?.wins + userInfos?.loses)}/>\n                        <StatCard icon={faTrophy} title=\"Wins\" stat={Number(userInfos?.wins)}/>\n                        <StatCard icon={faPercent} title=\"Ratio\" stat={Number(Number((userInfos?.wins) / (userInfos?.wins + userInfos?.loses) * 100).toFixed(1)) || 0}/>\n                    </div>\n                </div>\n            </div>\n            {!editMode && <div className=\"actionButtons\">\n                {buttons.map((button) => {\n                    if (button.type === userType.none) {\n                        return (\n                            <button key={`${button.text.replace(' ', '')}`} className={`btn${button.text.replace(' ', '')}`} onClick={() => button.onClick(userInfos?.id)}>\n                                <FontAwesomeIcon icon={button.icon} />\n                                {button.text}\n                            </button>\n                        );\n                    }\n                    return null;\n                })}\n            </div>}\n            {editMode && <TwoFAButton onClick={() => setEnable2fa(true)} enabled={userInfos?.isTfaEnabled}/>}\n            {enable2fa && <TwoFACard onSubmit={() => {/*  */}} onClose={() => setEnable2fa(false)}/>}\n        </section>\n    );\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}