{"ast":null,"code":"var _jsxFileName = \"/goinfre/abahdir/ft_transcendence/frontend/src/views/components/notif/notif.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { faClose } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { createContext, useContext, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NotifContext = /*#__PURE__*/createContext(Function());\nexport const useNotif = () => {\n  _s();\n\n  return useContext(NotifContext);\n};\n\n_s(useNotif, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nconst animatedNotifs = [];\n\nconst NotifCard = _ref => {\n  let {\n    props,\n    onClose\n  } = _ref;\n  animatedNotifs.push(props);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: `notif ${props.type} ${animatedNotifs.find(n => n == props) ? \"notifAnimation\" : \"notifix\"}`,\n    children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n      icon: faClose,\n      onClick: () => onClose()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"icon\",\n      children: props.icon\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"infos\",\n      children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n        className: \"title\",\n        children: props.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"description\",\n        children: props.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 13\n      }, this), props.actions && /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"actions\",\n        children: props.actions.map((a, k) => {\n          return k < 2 ? /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"action\",\n            style: {\n              background: a.color\n            },\n            onClick: () => a.action(),\n            children: a.title\n          }, `${Date.now()}_${k}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 27\n          }, this) : null;\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 31\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, this);\n};\n\n_c = NotifCard;\nexport const Notif = _ref2 => {\n  _s2();\n\n  let {\n    children\n  } = _ref2;\n  const [notifs, setNotifs] = useState([]);\n\n  const pushNotif = newNotif => {\n    if (notifs.length > 4) setNotifs(oldNotifs => oldNotifs.splice(0, 4));else setNotifs(oldNotifs => [newNotif, ...oldNotifs]);\n  };\n\n  return /*#__PURE__*/_jsxDEV(NotifContext.Provider, {\n    value: pushNotif,\n    children: [children, notifs.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"notifications\",\n      children: notifs.map((n, k) => /*#__PURE__*/_jsxDEV(NotifCard, {\n        onClose: () => setNotifs(notifs.filter(notif => notif !== n)),\n        props: n\n      }, `${k}_${Date.now()}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 39\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 35\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n};\n\n_s2(Notif, \"RE5yrgH3Ebqk8JeHLiOH3LaGsZg=\");\n\n_c2 = Notif;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"NotifCard\");\n$RefreshReg$(_c2, \"Notif\");","map":{"version":3,"names":["faClose","FontAwesomeIcon","React","createContext","useContext","useState","NotifContext","Function","useNotif","animatedNotifs","NotifCard","props","onClose","push","type","find","n","icon","title","description","actions","map","a","k","background","color","action","Date","now","Notif","children","notifs","setNotifs","pushNotif","newNotif","length","oldNotifs","splice","filter","notif"],"sources":["/goinfre/abahdir/ft_transcendence/frontend/src/views/components/notif/notif.tsx"],"sourcesContent":["import { faClose } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { createContext, ReactNode, useContext, useState } from \"react\";\n\ninterface Props {\n    type: string,\n    icon: ReactNode,\n    title: string,\n    description: string,\n    actions?: Array<{title: string, color: string, action: Function}>\n}\n\n\nconst NotifContext = createContext(Function());\n\nexport const useNotif = () => useContext(NotifContext);\nconst animatedNotifs: Array<Props> = [];\n\nconst NotifCard:React.FC<{props: Props, onClose: Function}> = ({props, onClose}) => {\n    animatedNotifs.push(props);\n    return (\n    <section className={`notif ${props.type} ${animatedNotifs.find((n) => n == props) ? \"notifAnimation\" : \"notifix\"}`} >\n        <FontAwesomeIcon icon={faClose} onClick={() => onClose()}/>\n        <span className=\"icon\">{props.icon}</span>\n        <div className=\"infos\">\n            <h6 className=\"title\">{props.title}</h6>\n            <p className=\"description\">{props.description}</p>\n            {props.actions && <ul className=\"actions\">\n                {props.actions.map((a, k) => {\n                    return (k < 2)\n                        ? <li className=\"action\"\n                            key={`${Date.now()}_${k}`}\n                            style={{background: a.color}}\n                            onClick={() => a.action()}>\n                            {a.title}\n                        </li>\n                        : null;\n                })}\n            </ul>}\n        </div>\n    </section>\n    );\n}\n\nexport const Notif:React.FC<{children: Array<ReactNode>}> = ({children}) => {\n    const [notifs, setNotifs] = useState<Array<Props>>([]);\n\n    const pushNotif = (newNotif: Props) => {\n        if (notifs.length > 4)\n            setNotifs(oldNotifs => oldNotifs.splice(0, 4));\n        else\n            setNotifs(oldNotifs => [newNotif, ...oldNotifs]);\n    }\n\n    return (\n        <NotifContext.Provider value={pushNotif}>\n            {children}\n            {notifs.length > 0 && <div className=\"notifications\">\n                {notifs.map((n, k) => <NotifCard key={`${k}_${Date.now()}`} onClose={() => setNotifs(notifs.filter((notif) => notif !== n))} props={n}/>)}\n            </div>}\n        </NotifContext.Provider>\n    );\n}"],"mappings":";;;;AAAA,SAASA,OAAT,QAAwB,mCAAxB;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,OAAOC,KAAP,IAAgBC,aAAhB,EAA0CC,UAA1C,EAAsDC,QAAtD,QAAsE,OAAtE;;AAWA,MAAMC,YAAY,gBAAGH,aAAa,CAACI,QAAQ,EAAT,CAAlC;AAEA,OAAO,MAAMC,QAAQ,GAAG;EAAA;;EAAA,OAAMJ,UAAU,CAACE,YAAD,CAAhB;AAAA,CAAjB;;GAAME,Q;;AACb,MAAMC,cAA4B,GAAG,EAArC;;AAEA,MAAMC,SAAqD,GAAG,QAAsB;EAAA,IAArB;IAACC,KAAD;IAAQC;EAAR,CAAqB;EAChFH,cAAc,CAACI,IAAf,CAAoBF,KAApB;EACA,oBACA;IAAS,SAAS,EAAG,SAAQA,KAAK,CAACG,IAAK,IAAGL,cAAc,CAACM,IAAf,CAAqBC,CAAD,IAAOA,CAAC,IAAIL,KAAhC,IAAyC,gBAAzC,GAA4D,SAAU,EAAjH;IAAA,wBACI,QAAC,eAAD;MAAiB,IAAI,EAAEX,OAAvB;MAAgC,OAAO,EAAE,MAAMY,OAAO;IAAtD;MAAA;MAAA;MAAA;IAAA,QADJ,eAEI;MAAM,SAAS,EAAC,MAAhB;MAAA,UAAwBD,KAAK,CAACM;IAA9B;MAAA;MAAA;MAAA;IAAA,QAFJ,eAGI;MAAK,SAAS,EAAC,OAAf;MAAA,wBACI;QAAI,SAAS,EAAC,OAAd;QAAA,UAAuBN,KAAK,CAACO;MAA7B;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QAAG,SAAS,EAAC,aAAb;QAAA,UAA4BP,KAAK,CAACQ;MAAlC;QAAA;QAAA;QAAA;MAAA,QAFJ,EAGKR,KAAK,CAACS,OAAN,iBAAiB;QAAI,SAAS,EAAC,SAAd;QAAA,UACbT,KAAK,CAACS,OAAN,CAAcC,GAAd,CAAkB,CAACC,CAAD,EAAIC,CAAJ,KAAU;UACzB,OAAQA,CAAC,GAAG,CAAL,gBACD;YAAI,SAAS,EAAC,QAAd;YAEE,KAAK,EAAE;cAACC,UAAU,EAAEF,CAAC,CAACG;YAAf,CAFT;YAGE,OAAO,EAAE,MAAMH,CAAC,CAACI,MAAF,EAHjB;YAAA,UAIGJ,CAAC,CAACJ;UAJL,GACQ,GAAES,IAAI,CAACC,GAAL,EAAW,IAAGL,CAAE,EAD1B;YAAA;YAAA;YAAA;UAAA,QADC,GAOD,IAPN;QAQH,CATA;MADa;QAAA;QAAA;QAAA;MAAA,QAHtB;IAAA;MAAA;MAAA;MAAA;IAAA,QAHJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADA;AAsBH,CAxBD;;KAAMb,S;AA0BN,OAAO,MAAMmB,KAA4C,GAAG,SAAgB;EAAA;;EAAA,IAAf;IAACC;EAAD,CAAe;EACxE,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsB3B,QAAQ,CAAe,EAAf,CAApC;;EAEA,MAAM4B,SAAS,GAAIC,QAAD,IAAqB;IACnC,IAAIH,MAAM,CAACI,MAAP,GAAgB,CAApB,EACIH,SAAS,CAACI,SAAS,IAAIA,SAAS,CAACC,MAAV,CAAiB,CAAjB,EAAoB,CAApB,CAAd,CAAT,CADJ,KAGIL,SAAS,CAACI,SAAS,IAAI,CAACF,QAAD,EAAW,GAAGE,SAAd,CAAd,CAAT;EACP,CALD;;EAOA,oBACI,QAAC,YAAD,CAAc,QAAd;IAAuB,KAAK,EAAEH,SAA9B;IAAA,WACKH,QADL,EAEKC,MAAM,CAACI,MAAP,GAAgB,CAAhB,iBAAqB;MAAK,SAAS,EAAC,eAAf;MAAA,UACjBJ,MAAM,CAACV,GAAP,CAAW,CAACL,CAAD,EAAIO,CAAJ,kBAAU,QAAC,SAAD;QAAsC,OAAO,EAAE,MAAMS,SAAS,CAACD,MAAM,CAACO,MAAP,CAAeC,KAAD,IAAWA,KAAK,KAAKvB,CAAnC,CAAD,CAA9D;QAAuG,KAAK,EAAEA;MAA9G,GAAiB,GAAEO,CAAE,IAAGI,IAAI,CAACC,GAAL,EAAW,EAAnC;QAAA;QAAA;QAAA;MAAA,QAArB;IADiB;MAAA;MAAA;MAAA;IAAA,QAF1B;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAQH,CAlBM;;IAAMC,K;;MAAAA,K"},"metadata":{},"sourceType":"module"}