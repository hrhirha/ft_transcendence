{"ast":null,"code":"var _jsxFileName = \"/Users/abahdir/Desktop/ft_transcendence/frontend/src/views/components/user_search/user_search.tsx\",\n    _s = $RefreshSig$();\n\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { useState, useEffect } from \"react\";\nimport { CircleAvatar } from \"../circle_avatar/circle_avatar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst resulst = [{\n  id: \"5ads4f54adsf\",\n  avatar: \"https://i.pravatar.cc/301\",\n  username: \"jhondoe\",\n  fullName: \"John Doe\",\n  status: \"online\"\n}, {\n  id: \"5ads4fs4adsf\",\n  avatar: \"https://i.pravatar.cc/302\",\n  username: \"ahmedoe\",\n  fullName: \"Ahmed Doe\",\n  status: \"offline\"\n}, {\n  id: \"5addagfsadsf\",\n  avatar: \"https://i.pravatar.cc/303\",\n  username: \"faridoe\",\n  fullName: \"Farid Doe\",\n  status: \"ingame\"\n}, {\n  id: \"5adsdaa4adsf\",\n  avatar: \"https://i.pravatar.cc/304\",\n  username: \"soulima\",\n  fullName: \"Souliman Doe\",\n  status: \"online\"\n}, {\n  id: \"5adsghfgadsf\",\n  avatar: \"https://i.pravatar.cc/305\",\n  username: \"nouaama\",\n  fullName: \"Nouaaman Doe\",\n  status: \"online\"\n}, {\n  id: \"5ads4f54adsf\",\n  avatar: \"https://i.pravatar.cc/306\",\n  username: \"fatimad\",\n  fullName: \"Fatima Doe\",\n  status: \"offline\"\n}, {\n  id: \"5ads4f5sxcvf\",\n  avatar: \"https://i.pravatar.cc/307\",\n  username: \"fedirec\",\n  fullName: \"Fedireco Doe\",\n  status: \"online\"\n}, {\n  id: \"5adshjgjersf\",\n  avatar: \"https://i.pravatar.cc/308\",\n  username: \"sarahdo\",\n  fullName: \"Sarah Doe\",\n  status: \"offline\"\n}, {\n  id: \"5ads4fdfgdsf\",\n  avatar: \"https://i.pravatar.cc/309\",\n  username: \"mouaddo\",\n  fullName: \"Mouad Doe\",\n  status: \"online\"\n}, {\n  id: \"5ads4wrttgsf\",\n  avatar: \"https://i.pravatar.cc/310\",\n  username: \"waliddo\",\n  fullName: \"Walid Doe\",\n  status: \"ingame\"\n}];\n\nconst SuggestionCard = _ref => {\n  let {\n    avatar,\n    fullName,\n    onClick\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"suggestionCard\",\n    onClick: () => onClick(),\n    children: [/*#__PURE__*/_jsxDEV(CircleAvatar, {\n      dimensions: 20,\n      avatarURL: avatar,\n      showStatus: false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n      children: fullName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 12\n  }, this);\n};\n\n_c = SuggestionCard;\nexport const UserSearchForm = _ref2 => {\n  _s();\n\n  let {\n    callback\n  } = _ref2;\n  const [suggestions, setSuggestions] = useState([]);\n  const [userSelected, setUserSelected] = useState(null);\n  const [showSuggestions, setShowSuggestions] = useState(false);\n  useEffect(() => {\n    if (userSelected !== null) {\n      callback(userSelected);\n    }\n  }, [userSelected]);\n\n  const handleChange = e => {\n    setShowSuggestions(false);\n\n    if (e.target.value.trim().length > 0) {\n      setShowSuggestions(true);\n      setSuggestions([]); //get results from server\n\n      resulst.forEach((user, key) => {\n        if (user.username.toLowerCase().includes(e.target.value.toLowerCase())) {\n          setSuggestions(prvSugges => [...prvSugges, /*#__PURE__*/_jsxDEV(SuggestionCard, {\n            onClick: () => {\n              setShowSuggestions(false);\n              setUserSelected(user);\n              e.target.value = \"\";\n            },\n            avatar: user.avatar,\n            fullName: user.fullName\n          }, key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 63\n          }, this)]);\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    id: \"searchUser\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"searchInput\",\n      children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faSearch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"username\",\n        type: \"text\",\n        onChange: e => handleChange(e),\n        placeholder: \"username\",\n        autoComplete: \"off\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this), showSuggestions && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"suggestions\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        id: \"suggestions\",\n        children: suggestions.map((s, k) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: s\n        }, k, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 44\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 29\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UserSearchForm, \"30eiS4u7Qq+QIAxKQm39qj2NqxI=\");\n\n_c2 = UserSearchForm;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SuggestionCard\");\n$RefreshReg$(_c2, \"UserSearchForm\");","map":{"version":3,"names":["faSearch","FontAwesomeIcon","React","useState","useEffect","CircleAvatar","resulst","id","avatar","username","fullName","status","SuggestionCard","onClick","UserSearchForm","callback","suggestions","setSuggestions","userSelected","setUserSelected","showSuggestions","setShowSuggestions","handleChange","e","target","value","trim","length","forEach","user","key","toLowerCase","includes","prvSugges","map","s","k"],"sources":["/Users/abahdir/Desktop/ft_transcendence/frontend/src/views/components/user_search/user_search.tsx"],"sourcesContent":["import { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { useState, useEffect } from \"react\";\nimport { CircleAvatar } from \"../circle_avatar/circle_avatar\";\n\nconst resulst = [\n    {id: \"5ads4f54adsf\", avatar: \"https://i.pravatar.cc/301\", username: \"jhondoe\", fullName: \"John Doe\", status: \"online\"},\n    {id: \"5ads4fs4adsf\", avatar: \"https://i.pravatar.cc/302\", username: \"ahmedoe\", fullName: \"Ahmed Doe\", status: \"offline\"},\n    {id: \"5addagfsadsf\", avatar: \"https://i.pravatar.cc/303\", username: \"faridoe\", fullName: \"Farid Doe\", status: \"ingame\"},\n    {id: \"5adsdaa4adsf\", avatar: \"https://i.pravatar.cc/304\", username: \"soulima\", fullName: \"Souliman Doe\", status: \"online\"},\n    {id: \"5adsghfgadsf\", avatar: \"https://i.pravatar.cc/305\", username: \"nouaama\", fullName: \"Nouaaman Doe\", status: \"online\"},\n    {id: \"5ads4f54adsf\", avatar: \"https://i.pravatar.cc/306\", username: \"fatimad\", fullName: \"Fatima Doe\", status: \"offline\"},\n    {id: \"5ads4f5sxcvf\", avatar: \"https://i.pravatar.cc/307\", username: \"fedirec\", fullName: \"Fedireco Doe\", status: \"online\"},\n    {id: \"5adshjgjersf\", avatar: \"https://i.pravatar.cc/308\", username: \"sarahdo\", fullName: \"Sarah Doe\", status: \"offline\"},\n    {id: \"5ads4fdfgdsf\", avatar: \"https://i.pravatar.cc/309\", username: \"mouaddo\", fullName: \"Mouad Doe\", status: \"online\"},\n    {id: \"5ads4wrttgsf\", avatar: \"https://i.pravatar.cc/310\", username: \"waliddo\", fullName: \"Walid Doe\", status: \"ingame\"}\n];\n\nconst SuggestionCard:React.FC<{avatar: string, fullName: string, onClick: Function}> = ({avatar, fullName, onClick}) => {\n    return <div className=\"suggestionCard\" onClick={() => onClick()}>\n        <CircleAvatar dimensions={20} avatarURL={avatar} showStatus={false}/>\n        <h6>{fullName}</h6>\n    </div>;\n}\n\nexport const UserSearchForm:React.FC<{callback: Function}> = ({callback}) => {\n    const [suggestions, setSuggestions] = useState<any[]>([]);\n    const [userSelected, setUserSelected] = useState(null);\n    const [showSuggestions, setShowSuggestions] = useState(false);\n\n    useEffect(() => {\n        if (userSelected !== null) {\n            callback(userSelected);\n        }\n    }, [userSelected]);\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setShowSuggestions(false);\n        if (e.target.value.trim().length > 0) {\n            setShowSuggestions(true);\n            setSuggestions([]);\n            //get results from server\n            resulst.forEach((user: any, key: number) => {\n                if (user.username.toLowerCase().includes(e.target.value.toLowerCase()))\n                {\n                    setSuggestions(prvSugges => [...prvSugges,<SuggestionCard onClick={() => {\n                        setShowSuggestions(false);\n                        setUserSelected(user);\n                        e.target.value = \"\";\n                    }} avatar={user.avatar} fullName={user.fullName} key={key} />]);\n                }\n            });\n        }\n    }\n    return (\n    <section id=\"searchUser\">\n        <div className=\"searchInput\">\n            <FontAwesomeIcon icon={faSearch} />\n            <input id=\"username\" type=\"text\" onChange={(e) => handleChange(e)} placeholder=\"username\" autoComplete=\"off\"/>\n        </div>\n        {showSuggestions && <div className=\"suggestions\">\n            <ul id=\"suggestions\">\n                {suggestions.map((s, k) => <li key={k}>{s}</li>)}\n            </ul>\n        </div>}\n    </section>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}